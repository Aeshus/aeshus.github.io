:root {
  /* Utopia font */
  /* @link https://utopia.fyi/type/calculator?c=320,17,1.2,1240,20,1.25,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
  --step--2: clamp(0.7381rem, 0.7166rem + 0.1076vw, 0.8rem);
  --step--1: clamp(0.8856rem, 0.8458rem + 0.1989vw, 1rem);
  --step-0: clamp(1.0625rem, 0.9973rem + 0.3261vw, 1.25rem);
  --step-1: clamp(1.275rem, 1.175rem + 0.5vw, 1.5625rem);
  --step-2: clamp(1.53rem, 1.3828rem + 0.7359vw, 1.9531rem);
  --step-3: clamp(1.8363rem, 1.6258rem + 1.0522vw, 2.4413rem);
  --step-4: clamp(2.2031rem, 1.9079rem + 1.4761vw, 3.0519rem);
  --step-5: clamp(2.6438rem, 2.2364rem + 2.037vw, 3.815rem);

  /* Utopia Space */
  /* @link https://utopia.fyi/space/calculator?c=320,17,1.2,1240,20,1.25,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
  --space-3xs: clamp(0.25rem, 0.2283rem + 0.1087vw, 0.3125rem);
  --space-2xs: clamp(0.5625rem, 0.5408rem + 0.1087vw, 0.625rem);
  --space-xs: clamp(0.8125rem, 0.769rem + 0.2174vw, 0.9375rem);
  --space-s: clamp(1.0625rem, 0.9973rem + 0.3261vw, 1.25rem);
  --space-m: clamp(1.625rem, 1.538rem + 0.4348vw, 1.875rem);
  --space-l: clamp(2.125rem, 1.9946rem + 0.6522vw, 2.5rem);
  --space-xl: clamp(3.1875rem, 2.9918rem + 0.9783vw, 3.75rem);
  --space-2xl: clamp(4.25rem, 3.9891rem + 1.3043vw, 5rem);
  --space-3xl: clamp(6.375rem, 5.9837rem + 1.9565vw, 7.5rem);

  /* Use non-variable font */
  font-family: 'Inter', sans-serif;

  /* Light theme - Modus Operandi */
  --bg: #fbf7f0; /* bg-main */
  --tx: #193668; /* fg-alt */
  --tx-dim: #595959; /* fg-dim */
  --accent: #7f0000; /* red-faint */
  --accent-dim: #f1d5d0; /* bg-hl-line */
}

@media (prefers-color-scheme: dark) {
  /* Dark theme - Modus Vivendi */
  :root {
  --bg: #0d0e1c; /* bg-main */
  --tx: #c6daff; /* fg-alt */
  --tx-dim: #989898; /* fg-dim */
  --accent: #82b0ec; /* blue-faint */
  --accent-dim: #303a6f; /* bg-hl-line */
  }  
}

@media print {
  /* Printing friendly styling */
  :root {
    --bg: white;
    --tx: black;
    --tx-dim: gray;
    --accent: blue;
    --accent-dim: blue;
  }
}

/* If browser supports variable, use this */
@supports (font-variation-settings: normal) {
  :root {
    font-family: 'Inter var', sans-serif;
  }
}

hr {
  flex: 1;
  height: var(--step--1);
  border: none;
  background-color: var(--accent-dim);
}

a {
  color: var(--accent);
  text-decoration-color: var(--accent-dim);
  text-decoration-style: dotted
}

body {
  margin: 0;
  width: 100vw;

  text-rendering: optimizeLegibility;
}

main,
nav,
footer {
  margin: auto;

  max-width: min(100% - 2rem, 65ch);
  width: 100%;
}

html {
  color-scheme: light dark;
  accent-color: var(--accent);
  
  margin: 0;

  text-color: var(--tx);
  background-color: var(--bg);
  font-size: var(--step-0);
  line-height: 1.625rem;
}

* {
  box-sizing: border-box;
}


h1 {
  font-size: var(--step-5);
  line-height: 1;
}
  


h2,h3,h4,h5,h6 {
    margin-bottom: 0;
}

h2 {
  font-size: var(--step-3);
}

h3 {
  font-size: var(--step-2);
}

h4 {
  font-size: var(--step-1);
}

img {
  max-width: 100%;
  display: block;
}

code {
  border: 1px solid var(--accent-dim);
  padding: 0 1px;
}

/* Code blocks */
.astro-code {
  font-size: var(--step--1);
  display: block;
  padding: 0.75ch;
  border: 0.25ch solid var(--accent-dim);
}

.astro-code > code {
  border: 0;
}

blockquote {
  margin: 0;
  padding-left: 0.75ch;
  border-left: 0.25ch solid var(--tx-dim);
}
